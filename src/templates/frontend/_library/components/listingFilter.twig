{# TODO: allow turning off of htmx? #}
{# TODO: Clear filters option #}

<div class="listing-filter">
    <input
            type="checkbox"
            class="listing-filter__toggle"
            id="filter-toggle"
            role="button"
            aria-haspopup="true"
    />
    <label class="listing-filter__label" for="filter-toggle">
        Filters
        <span class="expanded-text">expanded</span>
        <span class="collapsed-text">collapsed</span>
    </label>

    <div class="listing-filter__main" id="listing-filter">
        <h3>Filter</h3>
        <form action="/{{ craft.app.request.fullPath }}" method="GET"
              data-hx-select="#listing"
              data-hx-get="/{{ craft.app.request.fullPath }}"
              data-hx-indicator="#loading"
              data-hx-target="#listing"
              data-hx-swap="outerHTML"
              data-hx-push-url="true"
              hx-trigger="change"
        >
            {% if keywords %}
                <input type="hidden" name="q" value="{{ keywords }}">
            {% endif %}
            {% include '_library/components/filters/order.twig' %}
            {% include '_library/components/filters/kind.twig' %}

            <input type="submit" value="Go" class="filter__submit">
        </form>
    </div>
</div>
